# configs/pipeline_span_id.yaml

project_root: /data/sundeep/Fandom_SI

domain: money-heist

# Dataset naming: train{suffix}.jsonl, dev{suffix}.jsonl, test{suffix}.jsonl
suffix: _paragraph_nopunct

# Global derived paths (templated)
paths:
  data_dir: "{project_root}/data/span_identification/{domain}"
  logs_dir: "{project_root}/data/logs/span_identification/{domain}"
  exp_root: "{project_root}/experiments/span_id/{domain}"
  run_name: "bert_bilou{suffix}"
  ckpt_dir: "{exp_root}/{run_name}"
  results_csv: "{project_root}/results/span_identifier_metrics.csv"
  preds_test: "{project_root}/results/{domain}_spanid_preds_test{suffix}.jsonl"

# -----------------------
# Script 14 knobs
# -----------------------
prep:
  script: "{project_root}/scripts/Span_Identification/14_prepare_span_id_dataset_paragraph_nopunct.py"
  config: "{project_root}/configs/span_id_prep.yaml"
  remove_punct: true
  require_spans: true
  para_sep: "\n\n"

# -----------------------
# Script 15 knobs
# -----------------------
train:
  script: "{project_root}/scripts/Span_Identification/15_train_span_identifier.py"
  cfg: "{project_root}/configs/span_identi.yaml"
  out_dir: "{ckpt_dir}"

# -----------------------
# Script 16 knobs
# -----------------------
eval:
  script: "{project_root}/scripts/Span_Identification/16_eval_span_identifier.py"
  split: test
  max_length: 512
  iou_threshold: 0.5
  span_recall_k: 5
  results_csv: "{results_csv}"
  save_preds: "{preds_test}"
